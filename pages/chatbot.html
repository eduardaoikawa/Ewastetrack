<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Chatbot Sustentável</title>
  <style>
    /* RESET */
    * { margin:0; padding:0; box-sizing:border-box; font-family: 'Verdana', sans-serif; }

    body {
      background: #2E7D32;
      display: flex;
      flex-direction: column;
      align-items: center;
      min-height: 100vh;
      padding: 80px 20px 20px 20px; /* espaço para botão fixo no topo */
      color: #ffffff;
    }

    /* Botão voltar */
    .btn-eco {
      position: fixed;
      top: 20px;
      right: 20px;
      background: #ffffff;
      color: #2E7D32;
      font-weight: bold;
      padding: 0.5rem 1rem;
      border-radius: 25px;
      text-decoration: none;
      box-shadow: 0 3px 8px rgba(0,0,0,0.2);
      transition: all 0.3s ease;
      z-index: 1000;
    }
    .btn-eco:hover {
      background: #2E7D32;
      color: #ffffff;
      transform: scale(1.05);
    }

    /* Título e parágrafo */
    h1 { font-size: 2rem; margin-bottom: 10px; text-align: center; color: #ffffff; }
    p { font-size: 1rem; margin-bottom: 20px; text-align: center; color: #ffffff; }

    /* Chat */
    #chat {
      background: #ffffff; 
      color: #212529;
      width: 100%;
      max-width: 500px;
      height: 350px;
      border-radius: 15px;
      padding: 15px;
      overflow-y: auto;
      display: flex;
      flex-direction: column;
      gap: 10px;
      box-shadow: 0 5px 15px rgba(0,0,0,0.3);
    }

    /* Mensagens */
    .bot-message {
      background: #e0f7fa;
      color: #212529;
      padding: 10px 12px;
      border-radius: 12px;
      max-width: 80%;
      align-self: flex-start;
    }

    .user-message {
      background: #80ED99;
      color: #212529;
      padding: 10px 12px;
      border-radius: 12px;
      max-width: 80%;
      align-self: flex-end;
    }

    .typing {
      font-style: italic;
      color: #555;
      align-self: flex-start;
    }

    /* Formulário */
    #chat-form {
      margin-top: 15px;
      display: flex;
      width: 100%;
      max-width: 500px;
      gap: 10px;
    }

    #input {
      flex: 1;
      padding: 12px;
      border-radius: 25px;
      border: 2px solid #38A3A5;
      outline: none;
      font-size: 1rem;
      color: #212529;
      background: #f9f9f9;
    }

    #chat-form button {
      background: #ffffff;
      color: #2E7D32;
      font-weight: bold;
      padding: 12px 20px;
      border-radius: 25px;
      border: none;
      cursor: pointer;
      transition: all 0.3s ease;
    }
    #chat-form button:hover {
      background: #2E7D32;
      color: #ffffff;
      transform: scale(1.05);
    }

    /* Footer */
    footer {
      width: 100%;
      max-width: 500px;
      text-align: center;
      padding: 10px 0;
      margin-top: 20px;
      color: #ffffff;
    }

    /* Responsivo */
    @media (max-width: 600px) {
      h1 { font-size: 1.5rem; }
      #chat { height: 300px; }
      #chat-form { flex-direction: column; }
      #chat-form button { width: 100%; }
      #input { width: 100%; }
    }
  </style>
</head>
<body>

  <!-- Botão voltar -->
 <a href="../index.html" class="btn-eco">Voltar</a>
  <h1>Assistente de Reciclagem</h1>
  <p>Pergunte sobre pilhas, baterias, lixo eletrônico, sustentabilidade ou ODS.</p>

  <div id="chat">
    <div class="bot-message"><strong>Bot:</strong> Olá! Eu sou o assistente de reciclagem. Como posso ajudar hoje?</div>
  </div>

  <form id="chat-form">
    <input id="input" type="text" placeholder="Digite sua pergunta..." autocomplete="off" />
    <button type="submit">Enviar</button>
  </form>

  <footer>
    <small>© Ewastetrack</small>
  </footer>

  <script>
    const respostas = {
      "pilhas": "Pilhas devem ser descartadas em pontos de coleta especiais, como mercados, escolas e ecopontos.",
      "baterias": "Baterias contêm metais pesados. Leve sempre a pontos de coleta autorizados.",
      "celular": "Celulares antigos podem ser reciclados em lojas de eletrônicos ou ecopontos cadastrados.",
      "carregador": "Cabos e carregadores podem ser entregues nos pontos de coleta de eletrônicos.",
      "computador": "Computadores antigos podem ser doados, reciclados ou levados a cooperativas.",
      "óleo": "Óleo de cozinha usado deve ser armazenado e levado a pontos de coleta.",
      "lâmpadas": "Lâmpadas fluorescentes ou LEDs antigas devem ser levadas a ecopontos ou lojas de materiais.",
      "roupas": "Roupas e calçados usados podem ser doados para instituições ou brechós sociais.",
      "plástico": "Plásticos devem ser separados e levados à coleta seletiva.",
      "vidro": "Vidros devem ser reciclados através da coleta seletiva.",
      "papel": "Papéis e papelão devem ser encaminhados à coleta seletiva.",
      "orgânico": "Resíduos orgânicos podem ser compostados em casa ou em pontos comunitários.",
      "ods": "ODS são 17 metas da ONU para proteger o planeta e melhorar a vida das pessoas.",
      "energia": "Economize energia desligando luzes e aparelhos quando não estiverem em uso.",
      "água": "Feche a torneira ao escovar os dentes ou ensaboar a louça para economizar água."
    };

    const dicas = [
      "Separe seu lixo corretamente para facilitar a reciclagem.",
      "Economize água fechando a torneira ao escovar os dentes.",
      "Prefira produtos reutilizáveis em vez de descartáveis.",
      "Descarte pilhas e baterias em pontos de coleta autorizados.",
      "Evite plásticos descartáveis, use sacolas de pano.",
      "Apague as luzes ao sair de um ambiente para economizar energia.",
      "Composte restos de alimentos para reduzir o lixo orgânico.",
      "Participe de mutirões de limpeza e reciclagem na sua cidade.",
      "Use sacolas de pano ao fazer compras, evitando plásticas.",
      "Evite produtos descartáveis, prefira reutilizáveis (copos, talheres, garrafas).",
      "Apague luzes e eletrônicos quando não estiverem em uso.",
      "Tome banhos mais curtos e feche a torneira ao escovar os dentes.",
      "Reaproveite embalagens plásticas para armazenamento ou jardinagem.",
      "Doe roupas e calçados usados para instituições de caridade.",
      "Priorize transporte sustentável: bicicleta, caminhada ou transporte público."
    ];

    const chat = document.getElementById("chat");
    const form = document.getElementById("chat-form");
    const input = document.getElementById("input");

    function addMessage(text, sender, isBot=false){
      const div = document.createElement("div");
      div.className = isBot ? "bot-message" : "user-message";
      chat.appendChild(div);

      if(isBot){
        let i = 0;
        div.innerHTML = `<strong>${sender}:</strong> `;
        const interval = setInterval(()=>{
          div.innerHTML = `<strong>${sender}:</strong> ${text.substring(0,i)}`;
          i++;
          if(i>text.length) clearInterval(interval);
          chat.scrollTop = chat.scrollHeight;
        },20);
      } else {
        div.innerHTML = `<strong>${sender}:</strong> ${text}`;
        chat.scrollTop = chat.scrollHeight;
      }
    }

    function sendMessage(){
      const msg = input.value.trim();
      if(!msg) return;
      addMessage(msg,"Você");
      input.value = "";

      if(msg.toLowerCase().includes("dica")){
        const dica = dicas[Math.floor(Math.random()*dicas.length)];
        setTimeout(()=>addMessage(dica,"Bot",true),300);
        return;
      }

      let resposta = "Ainda não sei responder isso. Mas lembre-se: reduzir, reutilizar e reciclar sempre!";
      for(const chave in respostas){
        if(msg.toLowerCase().includes(chave)){
          resposta = respostas[chave];
          break;
        }
      }
      setTimeout(()=>addMessage(resposta,"Bot",true),300);
    }

    form.addEventListener("submit", e=>{ e.preventDefault(); sendMessage(); });
    input.addEventListener("keydown", e=>{ if(e.key==="Enter"){ e.preventDefault(); sendMessage(); } });
  </script>
</body>
</html>
